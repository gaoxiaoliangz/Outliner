!function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory():root.Outliner=factory()}(this,function(){var version="0.1.0",Outliner=function(selector,config){return new Outliner.prototype.init(selector,config)};return Outliner.prototype={outliner:version,init:function(selector,config){this.selector=selector,this.config={hasFixedNav:config.hasFixedNav||!1},this.mountComponent()},genTree:function(){var treeDom=$("<div class='nav-gen-by-outliner'><div class='title'>目录</div></div>"),domPinter=treeDom.append("<ul></ul>").find(">ul"),list=[],content=$(this.selector);return content.children().each(function(){if($(this).prop("tagName")in{H1:1,H2:2,H3:3,H4:4,H5:5,H6:6}){var parent,id="h"+parseInt(Math.random()*Math.pow(10,6)),h_text=$(this).text(),h=parseInt($(this).prop("tagName").substr(1,1)),list_copy=list.concat(),link="<a href='#"+id+"''>"+h_text+"</a>";list_copy.reverse(),list.push([h,id]),$(this).attr("id",id).attr("class","outlined-h-tag");var has_parent=list_copy.some(function(i){return i[0]<h?(parent=i,!0):void 0});if(has_parent){domPinter.find("."+parent[1]).append("<ul><li class='item "+id+"'>"+link+"</li></ul>"),parent=null}else for(var i=0;h-2>=i;i++)i==h-2?(domPinter.append("<li class='item "+id+"'>"+link+"</li>"),domPinter=treeDom.find(">ul")):(domPinter.append("<li><ul></ul></li>"),domPinter=domPinter.find(">li:last-child ul"))}}),treeDom},genFixedNav:function(){var fixedNavHtml;return fixedNavHtml},mountComponent:function(){var treeDom=this.genTree();treeDom.insertBefore($(this.selector))},handleLinkClick:function(){},handleScroll:function(){}},Outliner.prototype.init.prototype=Outliner.prototype,Outliner}),Outliner(".content",{}),jQuery.fn.animateIcon=function(action){switch(action){case"init":$(this).addClass("menu"),$(this).append("<span class='top'></span><span class='bottom'></span>");break;case"open":$(this).removeClass("menu"),$(this).addClass("close");break;case"close":$(this).removeClass("close"),$(this).addClass("menu")}};
//# sourceMappingURL=outliner.min.js.map