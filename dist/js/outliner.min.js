$.fn.genOutline=function(a,b){function c(a){var b=document.createElement("b");return b.innerHTML="<!--[if IE "+a+"]><i></i><![endif]-->",1===b.getElementsByTagName("i").length}function d(a){var b=a.parent().attr("class").split(" ")[1],d=$("#"+b).offset().top;return c()?$("html").animate({scrollTop:d},300):$("body").animate({scrollTop:d},300),!1}function e(){var a=$(this);return d(a),!1}function f(){var a=$(this);return g(),d(a),!1}function g(){k(),s.find(".wrap").slideUp("fast",function(){s.css({height:"auto"}),s.find(".container").css({height:"auto"}),s.removeClass("open"),s.addClass("closed"),s.find(".current-item").fadeIn(),s.find(".icon").animateIcon("close"),$(this).clearQueue()})}function h(){j(),s.find(".wrap").slideDown("fast",function(){s.removeClass("closed"),s.addClass("open"),s.find(".current-item").hide(),s.find(".icon").animateIcon("open"),s.find(".container").css({height:$(window).height()+100}),s.css({height:"999em"})})}function i(){for(var a=null,b=$(document).scrollTop()+20,c=0;c<q.length-1;c++){if(q[c][1]<=b&&q[c+1][1]>b){a=q[c][0];break}if(c==q.length-2&&q[c+1][1]<b){a=q[c+1][0];break}}return a}function j(){$("body").css({overflow:"hidden"})}function k(){$("body").css({overflow:"auto"})}var l=[];if(!a){var m=$(this);$("<div class='nav-gen-by-outliner'><div class='title'>目录</div></div>").insertBefore(m);var a=$(".nav-gen-by-outliner")}var n=a.append("<ul></ul>").find(">ul"),o=$(this);if(o.children().each(function(){if($(this).prop("tagName")in{H1:1,H2:2,H3:3,H4:4,H5:5,H6:6}){var b,c="h"+parseInt(Math.random()*Math.pow(10,6)),d=$(this).text(),e=parseInt($(this).prop("tagName").substr(1,1)),f=l.concat(),g="<a href='#"+c+"''>"+d+"</a>";f.reverse(),l.push([e,c]),$(this).attr("id",c).attr("class","outlined-h-tag");var h=f.some(function(a){return a[0]<e?(b=a,!0):void 0});if(h){n.find("."+b[1]).append("<ul><li class='item "+c+"'>"+g+"</li></ul>"),b=null}else for(var i=0;e-2>=i;i++)i==e-2?(n.append("<li class='item "+c+"'>"+g+"</li>"),n=a.find(">ul")):(n.append("<li><ul></ul></li>"),n=n.find(">li:last-child ul"))}}),$(a.find(".item>a")).on("click",e),b){$.fn.animateIcon||alert("animateicon.js is required!");var p=!1,q=[],r="nav-gen-by-outliner-fixed-"+parseInt(Math.random()*Math.pow(10,6));$("body").append("<div style='display:none;' class='nav-gen-by-outliner-fixed closed' id='"+r+"'><div class='icon icon-menu-animated'></div><div class='container'><div class='current-item'></div><div class='wrap' style='display:none;'>"+a.html()+"</div></div></div>");var s=$("#"+r);s.find(".icon").animateIcon("init"),o.find(".outlined-h-tag").each(function(){q.push([$(this).attr("id"),$(this).offset().top])}),$(window).scroll(function(){a.offset().top+a.outerHeight()<$(document).scrollTop()&&!p?(s.slideDown(),p=!0):a.offset().top+a.outerHeight()>=$(document).scrollTop()&&p&&(s.slideUp(),p=!1);var b=i();if(b){var c=".h"+b.substr(1,6);s.find(".item").not(c).removeClass("active"),s.find(c).addClass("active"),s.find(".current-item").html(s.find(c).find(">a").text())}}),$(s).find(".item>a").on("click",f),$("body").on("mouseenter","#"+r+".closed .icon",h),$("body").on("click","#"+r+".closed .icon",h),$("body").on("mouseleave","#"+r+".open",g),$("body").on("click","#"+r+".open .icon",g)}},jQuery.fn.animateIcon=function(a){switch(a){case"init":$(this).addClass("menu"),$(this).append("<span class='top'></span><span class='bottom'></span>");break;case"open":$(this).removeClass("menu"),$(this).addClass("close");break;case"close":$(this).removeClass("close"),$(this).addClass("menu")}};
//# sourceMappingURL=outliner.min.js.map